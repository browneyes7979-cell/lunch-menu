<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</title>
    <style>
        :root { --primary: #FF5722; --secondary: #4CAF50; --bg: #F8F9FA; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background-color: var(--bg); display: flex; justify-content: center; padding: 20px; margin: 0; }
        .container { background: white; width: 100%; max-width: 450px; border-radius: 24px; padding: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        h1 { text-align: center; color: #333; font-size: 1.5rem; margin-bottom: 24px; }
        
        /* ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ */
        .menu-list-container { border: 1px solid #eee; border-radius: 12px; height: 200px; overflow-y: auto; padding: 12px; margin-bottom: 20px; background: #fafafa; }
        .menu-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-bottom: 1px solid #eee; background: white; margin-bottom: 4px; border-radius: 6px; }
        .delete-btn { color: #ff4d4d; border: none; background: none; font-weight: bold; cursor: pointer; }

        /* ì…ë ¥ ì˜ì—­ */
        .input-group { display: flex; gap: 8px; margin-bottom: 20px; }
        input { flex: 1; padding: 12px; border: 2px solid #eee; border-radius: 10px; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--secondary); }
        .btn-add { background: var(--secondary); color: white; padding: 0 16px; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; }

        /* ë©”ì¸ ì•¡ì…˜ ë²„íŠ¼ */
        .btn-main { background: var(--primary); color: white; width: 100%; padding: 18px; font-size: 1.3rem; font-weight: bold; border: none; border-radius: 16px; cursor: pointer; transition: 0.2s; box-shadow: 0 4px 12px rgba(255,87,34,0.3); }
        .btn-main:active { transform: scale(0.96); }
        .footer-text { text-align: center; font-size: 0.8rem; color: #999; margin-top: 15px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ± ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</h1>
    
    <div class="input-group">
        <input type="text" id="menuInput" placeholder="ì¶”ê°€í•˜ê³  ì‹¶ì€ ë©”ë‰´ ì…ë ¥">
        <button class="btn-add" onclick="addMenu()">ì¶”ê°€</button>
    </div>

    <div class="menu-list-container" id="menuListView">
        </div>

    <button class="btn-main" onclick="pickMenu()">ğŸ² ë©”ë‰´ ëœë¤ ë½‘ê¸°!</button>
    <p class="footer-text">ë©”ë‰´ë¥¼ ê³ ë¥´ë©´ ì§€ë„ ê²€ìƒ‰ìœ¼ë¡œ ì—°ê²°ë©ë‹ˆë‹¤.</p>
</div>

<script>
    // 1. í•œêµ­ì¸ ì„ í˜¸ ì ì‹¬ ë©”ë‰´ 40ì¢… ê¸°ë³¸ íƒ‘ì¬
    const defaultMenus = [
        "ê¹€ì¹˜ì°Œê°œ", "ëˆê¹ŒìŠ¤", "ì´ˆë°¥", "ë§ˆë¼íƒ•", "í–„ë²„ê±°", "ì œìœ¡ë³¶ìŒ", "ìŒ€êµ­ìˆ˜", "íŒŒìŠ¤íƒ€",
        "ê¹€ì¹˜ë³¶ìŒë°¥", "ëœì¥ì°Œê°œ", "ìˆœë‘ë¶€ì°Œê°œ", "ì²­êµ­ì¥", "ìœ¡ê°œì¥", "ê°ˆë¹„íƒ•", "ì„¤ë íƒ•", 
        "ìˆœëŒ€êµ­", "ë¼ˆí•´ì¥êµ­", "ë¶€ëŒ€ì°Œê°œ", "ì œìœ¡ë®ë°¥", "ì˜¤ì§•ì–´ë®ë°¥", "ë¶ˆê³ ê¸°ë°±ë°˜", "ë¹„ë¹”ë°¥", 
        "ëŒì†¥ë¹„ë¹”ë°¥", "ì§œì¥ë©´", "ì§¬ë½•", "ë³¶ìŒë°¥", "íƒ•ìˆ˜ìœ¡", "ì¡ì±„ë°¥", "ëƒ‰ë©´", "ì¹¼êµ­ìˆ˜", 
        "ìˆ˜ì œë¹„", "ì”ì¹˜êµ­ìˆ˜", "ì«„ë©´", "ìš°ë™", "ì†Œë°”", "ê°€ì¸ ë™", "ìƒì„ êµ¬ì´", "ìŒˆë°¥", "êµ­ë°¥", "ìƒŒë“œìœ„ì¹˜"
    ];

    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ ê¸°ë³¸ê°’ ì‚¬ìš©
    let menus = JSON.parse(localStorage.getItem('lunchMenusV2')) || defaultMenus;

    const menuListView = document.getElementById('menuListView');
    const menuInput = document.getElementById('menuInput');

    // 2. í™”ë©´ ë Œë”ë§ í•¨ìˆ˜
    function render() {
        menuListView.innerHTML = '';
        menus.forEach((menu, index) => {
            const item = document.createElement('div');
            item.className = 'menu-item';
            item.innerHTML = `
                <span>${menu}</span>
                <button class="delete-btn" onclick="deleteMenu(${index})">ì‚­ì œ</button>
            `;
            menuListView.appendChild(item);
        });
        localStorage.setItem('lunchMenusV2', JSON.stringify(menus));
    }

    // 3. ë©”ë‰´ ì¶”ê°€ ê¸°ëŠ¥
    function addMenu() {
        const val = menuInput.value.trim();
        if (val) {
            menus.unshift(val); // ìƒˆ ë©”ë‰´ë¥¼ ë§¨ ìœ„ì— ì¶”ê°€
            menuInput.value = '';
            render();
        }
    }

    // 4. ë©”ë‰´ ì‚­ì œ ê¸°ëŠ¥
    function deleteMenu(index) {
        if(confirm("ì´ ë©”ë‰´ë¥¼ ë¦¬ìŠ¤íŠ¸ì—ì„œ ëº„ê¹Œìš”?")) {
            menus.splice(index, 1);
            render();
        }
    }

    // 5. í•µì‹¬: ëœë¤ ë½‘ê¸° + ì§€ë„ ì—°ë™ (ì¹´ì¹´ì˜¤ë§µ ê¸°ì¤€)
    function pickMenu() {
        if (menus.length === 0) return alert("ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì–´ìš”!");

        // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ìœ„í•´ ë²„íŠ¼ ì ê¹ ë¹„í™œì„±í™”
        const btn = document.querySelector('.btn-main');
        btn.innerText = "ë‘êµ¬ë‘êµ¬...";
        btn.disabled = true;

        setTimeout(() => {
            const picked = menus[Math.floor(Math.random() * menus.length)];
            btn.innerText = "ğŸ² ë©”ë‰´ ëœë¤ ë½‘ê¸°!";
            btn.disabled = false;

            const goSearch = confirm(`ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´ëŠ” [ ${picked} ] ì…ë‹ˆë‹¤!\nê·¼ì²˜ ë§›ì§‘ì„ ê²€ìƒ‰í• ê¹Œìš”?`);
            
            if (goSearch) {
                // ì¹´ì¹´ì˜¤ë§µ ê²€ìƒ‰ ì£¼ì†Œë¡œ ì´ë™ (ë²”ìš©ì„± ë†’ìŒ)
                const searchUrl = `https://map.kakao.com/link/search/${encodeURIComponent(picked + " ë§›ì§‘")}`;
                window.open(searchUrl, '_blank');
            }
        }, 600);
    }

    // ì—”í„°í‚¤ ì§€ì›
    menuInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') addMenu(); });

    // ì´ˆê¸° ì‹¤í–‰
    render();
</script>

</body>
</html>